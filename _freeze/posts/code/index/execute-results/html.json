{
  "hash": "308b6ce0c79599205d9cd28599a6968d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Code\"\ndescription: A sample of code from my Environmental Statistics class\nformat: html\nimage: code.gif\ncategories: Coding \n---\n\n\n\nThis is a sample of my code from my personal data project for my Environmental Statistics class! I coded a plot of my data to show each data point given on hours of sleep on the x-axis (predictor variable) and stress level on the y-axis (response variable).\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(ggplot2)\nlibrary(here)\nlibrary(DHARMa)\nlibrary(ggeffects)\n# read in packages \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np_data <- read.csv(here(\"posts\", \"code\", \"Personal_Data.csv\"))\n\nclean_p_data <- p_data |> # create new data frame\n  clean_names() # standardizes column names - spaces = underscores, make everything lowercase\n\nclean_p_data <- clean_p_data |> \n  mutate(amount_of_sleep = str_trim(amount_of_sleep),  # remove inconsistencies among group names \n         amount_of_sleep = str_to_lower(amount_of_sleep))    # make lowercase if needed\n\nclean_p_data <- clean_p_data |>  # modify data frame\n  mutate(amount_of_sleep = fct_relevel(amount_of_sleep, \n                                       \"5 hrs\", \"6 hrs\", \"7 hrs\", \n                                       \"8 hrs\", \"9 hrs\", \"10 hrs\")) # reorder data so that it is represented in numerical order\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = clean_p_data, # data frame\n       aes(x = amount_of_sleep, # make x-axis = amount of sleep\n           y = stress_level, # make y-axis = stress level\n           color = amount_of_sleep)) + # color\n  geom_jitter(width = 0.2, height = 0, alpha = 0.7) +  # add jitter to show all data points\n  labs(\n    title = \"Sleep vs. Stress Levels\", # change title\n    x = \"Hours of Sleep\", # change name of x axis\n    y = \"Stress Level\", # change name of y axis\n    color = \"Amount of Sleep\") # change name of legend \n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/graph-1.png){width=672}\n:::\n:::\n\n\n\n\n___\n\n\nAdditionally, I ran a logistic regression (a generalized linear model with a binomial error distribution) because my response variable is binary â€” the question of whether I left campus can be answered with either \"yes\" (coded as 1) or \"no\" (coded as 0). This model allowed me to test whether there is a relationship between my predictor (stress level) and my outcome (leaving campus).\n\nI calculated the odds ratio, which tells me how the odds of leaving campus change with a one-unit increase in stress. The odds ratio was 1, indicating that stress level has no effect on the likelihood of leaving campus.\n\nI confirmed this by looking at the predicted probabilities for different stress levels. Each level produced the same predicted probability, suggesting that stress has no statistically significant impact on the outcome.\n\nBased on this analysis, I found no evidence of a correlation between stress level and the likelihood of leaving campus.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclean_p_data <- clean_p_data |>\n  mutate(leave_iv_campus_home = as.factor(leave_iv_campus_home))\n\np_mod <- glm(leave_iv_campus_home ~ stress_level,\n             data = clean_p_data,\n             family = \"binomial\")\n\nplot(\n  simulateResiduals(p_mod)\n)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsummary(p_mod)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nglm(formula = leave_iv_campus_home ~ stress_level, family = \"binomial\", \n    data = clean_p_data)\n\nCoefficients:\n              Estimate Std. Error z value Pr(>|z|)\n(Intercept)   0.482079   1.261397   0.382    0.702\nstress_level -0.005417   0.289748  -0.019    0.985\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 41.381  on 30  degrees of freedom\nResidual deviance: 41.380  on 29  degrees of freedom\nAIC: 45.38\n\nNumber of Fisher Scoring iterations: 4\n```\n\n\n:::\n\n```{.r .cell-code}\ngtsummary::tbl_regression(p_mod,\n                          exponentiate = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qllflumyvg\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qllflumyvg table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qllflumyvg thead, #qllflumyvg tbody, #qllflumyvg tfoot, #qllflumyvg tr, #qllflumyvg td, #qllflumyvg th {\n  border-style: none;\n}\n\n#qllflumyvg p {\n  margin: 0;\n  padding: 0;\n}\n\n#qllflumyvg .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qllflumyvg .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qllflumyvg .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qllflumyvg .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qllflumyvg .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qllflumyvg .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qllflumyvg .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qllflumyvg .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qllflumyvg .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qllflumyvg .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qllflumyvg .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qllflumyvg .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qllflumyvg .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qllflumyvg .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qllflumyvg .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qllflumyvg .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qllflumyvg .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qllflumyvg .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qllflumyvg .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qllflumyvg .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qllflumyvg .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qllflumyvg .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qllflumyvg .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qllflumyvg .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qllflumyvg .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qllflumyvg .gt_left {\n  text-align: left;\n}\n\n#qllflumyvg .gt_center {\n  text-align: center;\n}\n\n#qllflumyvg .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qllflumyvg .gt_font_normal {\n  font-weight: normal;\n}\n\n#qllflumyvg .gt_font_bold {\n  font-weight: bold;\n}\n\n#qllflumyvg .gt_font_italic {\n  font-style: italic;\n}\n\n#qllflumyvg .gt_super {\n  font-size: 65%;\n}\n\n#qllflumyvg .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qllflumyvg .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qllflumyvg .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qllflumyvg .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qllflumyvg .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qllflumyvg .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qllflumyvg .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qllflumyvg .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qllflumyvg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"label\"><span data-qmd-base64=\"KipDaGFyYWN0ZXJpc3RpYyoq\"><span class='gt_from_md'><strong>Characteristic</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"estimate\"><span data-qmd-base64=\"KipPUioq\"><span class='gt_from_md'><strong>OR</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"conf.low\"><span data-qmd-base64=\"Kio5NSUgQ0kqKg==\"><span class='gt_from_md'><strong>95% CI</strong></span></span></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\"><span data-qmd-base64=\"KipwLXZhbHVlKio=\"><span class='gt_from_md'><strong>p-value</strong></span></span></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"label\" class=\"gt_row gt_left\">stress_level</td>\n<td headers=\"estimate\" class=\"gt_row gt_center\">1.0</td>\n<td headers=\"conf.low\" class=\"gt_row gt_center\">0.56, 1.78</td>\n<td headers=\"p.value\" class=\"gt_row gt_center\">>0.9</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"4\"><span data-qmd-base64=\"QWJicmV2aWF0aW9uczogQ0kgPSBDb25maWRlbmNlIEludGVydmFsLCBPUiA9IE9kZHMgUmF0aW8=\"><span class='gt_from_md'>Abbreviations: CI = Confidence Interval, OR = Odds Ratio</span></span></td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code}\nggpredict (p_mod,\n           terms = \"stress_level [4]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Predicted probabilities of leave_iv_campus_home\n\nstress_level | Predicted |     95% CI\n-------------------------------------\n           4 |      0.61 | 0.43, 0.77\n```\n\n\n:::\n\n```{.r .cell-code}\nggpredict(p_mod,\n          terms = \"stress_level [5]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Predicted probabilities of leave_iv_campus_home\n\nstress_level | Predicted |     95% CI\n-------------------------------------\n           5 |      0.61 | 0.40, 0.79\n```\n\n\n:::\n\n```{.r .cell-code}\nggpredict(p_mod,\n          terms = \"stress_level [6]\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Predicted probabilities of leave_iv_campus_home\n\nstress_level | Predicted |     95% CI\n-------------------------------------\n           6 |      0.61 | 0.31, 0.85\n```\n\n\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}